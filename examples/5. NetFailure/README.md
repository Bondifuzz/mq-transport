# Multi

## Описание

В данном примере наглядно показывается надёжность систем, основанных на очередях сообщений. Так же как и в самом первом примере два сервиса взаимодействуют через очередь сообщений. Однако в сети часто возникают проблемы, сервисы не всегда могут быть доступны. Библиотека mqtransport гарантирует доставку сообщений, несмотря на все эти проблемы.

## Запуск

Для запуска примера нужно выполнить следующие команды:

```bash
# Terminal 1
python3 consumer.py
# Terminal 2
python3 producer.py
```

Для имитации ошибок сети необходимо перейти в корень репозитория и выполнить следующие команды:

```bash
# Ошибка сети
docker-compose -p mqtransport_examples stop

# Сеть восстановлена
docker-compose -p mqtransport_examples start
```

При наличии ошибок в логах сервисов появятся соответствующие записи.

## Вопросы

1. Если брокер сообщений недоступен, будет ли отправленное ему от *producer* сообщение потеряно?
2. Что будет, если во время имитации ошибок сети попытаться остановить `producer.py`?